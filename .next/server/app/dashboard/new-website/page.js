(()=>{var e={};e.id=56,e.ids=[56],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11989:(e,s,r)=>{Promise.resolve().then(r.bind(r,53515))},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},46843:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jakezheng/88/88designer/app/dashboard/new-website/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jakezheng/88/88designer/app/dashboard/new-website/page.tsx","default")},53515:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>v});var t=r(60687),a=r(43210),i=r(16189),n=r(19098),l=r(16396);let o={createWebsite:async e=>{let{data:s,error:r}=await l.N.from("websites").insert(e).select().single();if(r)throw console.error("Error creating website:",r),r;return s}};var d=r(24934),c=r(68988),u=r(39390),p=r(63974),m=r(55192),x=r(3018),h=r(11437),f=r(28559),b=r(93613),g=r(85814),j=r.n(g);let y=[{value:"restaurant",label:"Restaurant & Food Service"},{value:"retail",label:"Retail & Shopping"},{value:"health",label:"Health & Wellness"},{value:"professional",label:"Professional Services"},{value:"construction",label:"Construction & Home Services"},{value:"beauty",label:"Beauty & Personal Care"},{value:"other",label:"Other"}];function v(){let{user:e}=(0,n.Z)(),s=(0,i.useRouter)(),[r,l]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[w,N]=(0,a.useState)(null),[q,P]=(0,a.useState)(!1),C=async t=>{if(t.preventDefault(),!e)return void N("You must be logged in to create a website");if(!r||!g)return void N("Please fill in all required fields");N(null),P(!0);try{await o.createWebsite({user_id:e.id,business_name:r,business_type:g,status:"draft"}),s.push("/dashboard")}catch(e){console.error("Error creating website:",e),N("Failed to create website. Please try again.")}finally{P(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white border-b border-gray-200",children:(0,t.jsx)("div",{className:"container mx-auto py-4 px-4 flex items-center justify-between",children:(0,t.jsxs)(j(),{href:"/",className:"inline-flex items-center gap-2 text-xl font-bold text-gray-900",children:[(0,t.jsx)(h.A,{className:"h-6 w-6 text-blue-600"}),(0,t.jsx)("span",{children:"88 Web Designs"})]})})}),(0,t.jsxs)("main",{className:"container mx-auto py-8 px-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(d.$,{variant:"outline",asChild:!0,className:"mb-6",children:(0,t.jsxs)(j(),{href:"/dashboard",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Create a New Website"})]}),(0,t.jsxs)(m.Zp,{className:"max-w-lg mx-auto",children:[(0,t.jsxs)(m.aR,{children:[(0,t.jsx)(m.ZB,{children:"Website Details"}),(0,t.jsx)(m.BT,{children:"Enter the basic information about your business"})]}),(0,t.jsxs)("form",{onSubmit:C,children:[(0,t.jsxs)(m.Wu,{className:"space-y-4",children:[w&&(0,t.jsxs)(x.Fc,{variant:"destructive",children:[(0,t.jsx)(b.A,{className:"h-4 w-4"}),(0,t.jsx)(x.TN,{children:w})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.J,{htmlFor:"business-name",children:"Business Name"}),(0,t.jsx)(c.p,{id:"business-name",value:r,onChange:e=>l(e.target.value),placeholder:"Your Business Name",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.J,{htmlFor:"business-type",children:"Business Type"}),(0,t.jsxs)(p.l6,{value:g,onValueChange:v,children:[(0,t.jsx)(p.bq,{id:"business-type",children:(0,t.jsx)(p.yv,{placeholder:"Select business type"})}),(0,t.jsx)(p.gC,{children:y.map(e=>(0,t.jsx)(p.eb,{value:e.value,children:e.label},e.value))})]})]})]}),(0,t.jsx)(m.wL,{children:(0,t.jsx)(d.$,{type:"submit",className:"w-full",disabled:q,children:q?"Creating...":"Create Website"})})]})]})]})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63974:(e,s,r)=>{"use strict";r.d(s,{bq:()=>p,eb:()=>f,gC:()=>h,l6:()=>c,yv:()=>u});var t=r(60687),a=r(43210),i=r(58106),n=r(78272),l=r(3589),o=r(13964),d=r(96241);let c=i.bL;i.YJ;let u=i.WT,p=a.forwardRef(({className:e,children:s,...r},a)=>(0,t.jsxs)(i.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[s,(0,t.jsx)(i.In,{asChild:!0,children:(0,t.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=i.l9.displayName;let m=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)(i.PP,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,t.jsx)(l.A,{className:"h-4 w-4"})}));m.displayName=i.PP.displayName;let x=a.forwardRef(({className:e,...s},r)=>(0,t.jsx)(i.wn,{ref:r,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})}));x.displayName=i.wn.displayName;let h=a.forwardRef(({className:e,children:s,position:r="popper",...a},n)=>(0,t.jsx)(i.ZL,{children:(0,t.jsxs)(i.UC,{ref:n,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[(0,t.jsx)(m,{}),(0,t.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,t.jsx)(x,{})]})}));h.displayName=i.UC.displayName,a.forwardRef(({className:e,...s},r)=>(0,t.jsx)(i.JU,{ref:r,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=i.JU.displayName;let f=a.forwardRef(({className:e,children:s,...r},a)=>(0,t.jsxs)(i.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.VF,{children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})}),(0,t.jsx)(i.p4,{children:s})]}));f.displayName=i.q7.displayName,a.forwardRef(({className:e,...s},r)=>(0,t.jsx)(i.wv,{ref:r,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.wv.displayName},70133:(e,s,r)=>{Promise.resolve().then(r.bind(r,46843))},74075:e=>{"use strict";e.exports=require("zlib")},77994:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var t=r(65239),a=r(48088),i=r(88170),n=r.n(i),l=r(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(s,o);let d={children:["",{children:["dashboard",{children:["new-website",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,46843)),"/Users/jakezheng/88/88designer/app/dashboard/new-website/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/jakezheng/88/88designer/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/jakezheng/88/88designer/app/dashboard/new-website/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/new-website/page",pathname:"/dashboard/new-website",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[447,79,365,814,55,928,15],()=>r(77994));module.exports=t})();